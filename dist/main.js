(()=>{"use strict";const e=({view:e,wrap:t,arrows:n,item:o,times:a})=>{const l=document.querySelector(t),s=document.querySelectorAll(o),c=document.querySelectorAll(n);let r,i=l.style.transform.match(/\d+/gi),d=0,m=0,u=0,y=0;const p=(e,t,n)=>{e[t].classList.remove(n)},v=(e,t,n)=>{e[t].classList.add(n)},f=()=>{r=window.screen.width>576?e:1,y=+(s[0].style.width=l.offsetWidth/r),i=Number(l.style.transform.replace(/[^\-\d+]/gi,"")),l.style.transitionDuration=".5s"},g=()=>{p(s,d,"slide-active"),d++,f(),d>=s.length-(r-1)?(d=0,u=0):u=i-y,l.style.transform=`translateX(${u}px)`,v(s,d,"slide-active")},h=(e=a)=>{m=setInterval(g,e)},E=()=>{clearInterval(m)};h(),c.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),E(),p(s,d,"slide-active"),e.target===document.querySelector(`${n}--right img`)?(d++,f(),d>=s.length-(r-1)?(d=0,u=0):u=i-y,l.style.transform=`translateX(${u}px)`,h()):e.target===document.querySelector(`${n}--left img`)&&(E(),d--,f(),d<0?(d=s.length-r,u=-y*(s.length-r)):u=i+y,l.style.transform=`translateX(${u}px)`,h()),v(s,d,"slide-active")}))}))},t=e=>e<10?`0${e}`:e,n=({formName:e,someElem:t=[]})=>{const n=document.getElementsByName(e)[0],o=document.createElement("div");let a=!1,l=!1;n.noValidate=!0;try{n.addEventListener("submit",(e=>{e.preventDefault(),console.log("Perfect"),(()=>{const e=n.querySelectorAll("input"),s=new FormData(n),c={};var r;o.innerHTML="<img src='./src/images/load.png'>",n.append(o),s.forEach(((e,t)=>{c[t]=e})),t.forEach((e=>{console.log(e.id);const t=document.getElementById(e.id);e.type,c[e.id]=t.value})),function(e){let t=!1;return a=!1,l=!1,e.forEach((e=>{"fio"===e.attributes.name.value&&(/^[а-яА-Яa-zA-Z]{2,}$/gi.test(e.value)?a=!0:(e.setCustomValidity("Заполните не менее 2-х символов"),e.reportValidity())),"phone"===e.attributes.name.value&&(/^[\d\+]{5,16}$/gi.test(e.value)?l=!0:(e.setCustomValidity("Заполните номер цифрами, не более 16 цифр"),e.reportValidity()))})),!0===a&&!0===l&&(t=!0),t}(e)?(r=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{o.textContent="Спасибо! Наш менеджер с вами свяжется",setTimeout((()=>{o.textContent=""}),5e3),e.forEach((e=>{e.value=""}))})).catch((e=>{o.textContent="Ошибка..."})):o.textContent=""})()}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelector(".overlay"),t=document.querySelectorAll(".fancyboxModal"),n=document.querySelector(".header-modal"),o=document.querySelector(".services-modal"),a=document.querySelectorAll(".fancybox-skin");t.forEach((t=>{t.addEventListener("click",(t=>{e.style.display="block",t.target.classList.contains("call-back")?n.style.display="block":t.target.classList.contains("service-btn")&&(o.style.display="block")}))})),e.addEventListener("click",(()=>{n.style.display="none",o.style.display="none",e.style.display="none"})),a.forEach((t=>{t.addEventListener("click",(t=>{t.target.classList.contains("header-modal__close")?(n.style.display="none",e.style.display="none"):t.target.classList.contains("services-modal__close")&&(o.style.display="none",e.style.display="none")}))}))})(),e({view:3,wrap:".benefits-wrap",arrows:".benefits__arrow",item:".benefits__item",times:2e3}),e({view:2,wrap:".services-wrap",arrows:".services__arrow",item:".services__item",times:4e3}),(e=>{const n=document.querySelector(".count_1 span"),o=document.querySelector(".count_2 span"),a=document.querySelector(".count_3 span"),l=document.querySelector(".count_4 span"),s=()=>{let c=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t/60/60),o=Math.floor(n/24);return{timeRemaining:t,hours:n,minutes:Math.floor(t/60%60),seconds:Math.floor(t%60),day:o}})();c.timeRemaining<0?(clearInterval(s),n.textContent="00",o.textContent="00",a.textContent="00",l.textContent="00"):(n.textContent=t(c.day),o.textContent=t(c.hours%24),a.textContent=t(c.minutes),l.textContent=t(c.seconds))};setInterval(s,1e3)})("22 december 2021"),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.getElementById("offer"),n=()=>{window.pageYOffset<=t.offsetTop+t.offsetHeight?e.style.opacity="0":e.style.opacity="1"};window.addEventListener("scroll",n),n(),e.addEventListener("click",(e=>{e.preventDefault(),document.body.scrollIntoView({behavior:"smooth"})}))})(),((e=100)=>{const t=document.getElementById("calc"),n=document.getElementById("calc-type"),o=document.getElementById("calc-type-material"),a=document.getElementById("calc-input"),l=document.getElementById("calc-total");t&&t.addEventListener("input",(t=>{t.target!==n&&t.target!==a&&t.target!==o||(()=>{let t,s=1;a.value=a.value.replace(/[^\d\.]+/gi,""),"--"!=o.value&&(s=+o.value),t=e*+n.value*+a.value*s,l.value=t})()}))})(),(()=>{const e=document.querySelectorAll(".sertificate-document");let t,n;var o;o=()=>{t.addEventListener("click",(e=>{e.target.classList.contains("view-modal")&&t.remove()}))},e.forEach((e=>{e.addEventListener("click",(a=>{a.preventDefault(),t=document.createElement("div"),n=document.createElement("img"),t.className="view-modal",n.setAttribute("src",e.getAttribute("href")),document.body.append(t),t.append(n),o()}))}))})(),n({formName:"action-form2",someElem:[{type:"block",id:"calc-total"}]}),n({formName:"action-form",someElem:[{type:"block",id:"calc-total"}]})})();